<?xml version="1.0"?>
<!-- Generated by the OpenACS Package Manager -->

<package key="acs-subsite" url="http://openacs.org/repository/apm/packages/acs-subsite/" type="apm_service">
    <package-name>ACS Subsite</package-name>
    <pretty-plural>ACS Subsite Services</pretty-plural>
    <initial-install-p>t</initial-install-p>
    <singleton-p>f</singleton-p>
    <implements-subsite-p>t</implements-subsite-p>
    <inherit-templates-p>t</inherit-templates-p>
    
    <version name="5.9.0d6" url="http://openacs.org/repository/download/apm/acs-subsite-5.9.0d6.apm">
        <owner url="http://openacs.org">OpenACS</owner>
        <summary>Subsite</summary>
        <release-date>2015-06-16</release-date>
        <vendor url="http://openacs.org">OpenACS</vendor>
        <description format="text/html">Provides for creating subsites within the OpenACS Community System.  Aware of parties, groups, users, portraits.  Can be themed via a per subsite master template.</description>
        <license>GPL</license>
        <maturity>3</maturity>

        <provides url="acs-subsite" version="5.9.0d6"/>
        <requires url="acs-authentication" version="5.9.0d1"/>
        <requires url="acs-content-repository" version="5.9.0d1"/>
        <requires url="acs-kernel" version="5.8.0d4"/>
        <requires url="acs-tcl" version="5.9.0d1"/>
        <requires url="acs-lang" version="5.9.0d1"/>
        <requires url="acs-mail-lite" version="5.9.0d1"/>

        <callbacks>
            <callback type="before-upgrade"  proc="subsite::before_upgrade"/>
            <callback type="after-mount"  proc="subsite::after_mount"/>
            <callback type="after-install"  proc="subsite::package_install"/>
            <callback type="before-uninstantiate"  proc="subsite::before_uninstantiate"/>
            <callback type="after-upgrade"  proc="subsite::after_upgrade"/>
        </callbacks>
        <parameters>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="AcceptablePortraitMIMETypes"  default="image/gif image/jpeg image/png" description="Enter a set of acceptable MIME types for portrait submissions." section_name="user-info"/>
            <parameter scope="instance" datatype="text"  min_n_values="1"  max_n_values="1"  name="AdminNavbarTabsList"  default="
admin {
    label #acs-subsite.Administration#
    url admin/configure
    selected_patterns {
        admin/*
        shared/parameters
    }
    subsections {
        configuration {
            label #acs-subsite.Configuration#
            url admin/configure
        }
        applications {
            label #acs-subsite.Applications#
            folder admin/applications
            selected_patterns {
                *
            }
        }
        subsite_add {
            label #acs-subsite.New_Subsite#
            url admin/subsite-add
        }
        permissions {
            label #acs-subsite.Permissions#
            url admin/permissions
        }
        parameters {
            label #acs-subsite.Parameters#
            url shared/parameters
        }
        advanced {
            label #acs-subsite.Advanced#
            folder admin
            selected_patterns {
                site-map/*
                groups/*
                group-types/*
                rel-segments/*
                rel-types/*
                host-node-map/*
                object-types/*
            }
        }
    }
}
" description="Navigation tabs to show administrators" section_name="Navigation Tabs"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="AllowPersistentLoginP"  default="1" description="do we allow persistent logins?" section_name="user-login"/>
            <parameter scope="instance" datatype="number"  min_n_values="1"  max_n_values="1"  name="AsmForRegisterId"  default="1" description="Assessment used in the registration process." section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ContextBarSeparator"  default=":" description="Default character to use as separator in context bar"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="DefaultFormStyle"  description="The default form template to use if a particular form doesn't have something more specific defined already." section_name="theming"/>
	    <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="DefaultDimensionalStyle"  description="The default dimensional template to use if a particular ad_dimensional doesn't have something more specific defined already." section_name="theming"/>
	    <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ResourceDir"  description="The directory, from which the resources of acs-templating are loaded. If not set, or the required resource is not found, the default is taken from /packages/acs-templating/resources/" section_name="theming"/>	    
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="DefaultListFilterStyle"  description="The default list filter template to use if a particular listfilter tag does not explicitly specify the list filter style to use." section_name="theming"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="DefaultListStyle"  description="The default list template to use if a particular list does not explicitly specify the list style to use." section_name="theming"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="DefaultMaster"  default="/packages/openacs-default-theme/lib/plain-master" description="Path to the default master page (skin) for acs-templating.  Set by the admin theme-switching UI." section_name="theming"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="EmailChangedPasswordP"  default="0" description="if the admin changes the password, should it be mailed to the user" section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="EmailConfirmTemplate"  default="/packages/acs-subsite/lib/email-confirm" description="Template to use for the page the user comes to for verification of the email. Can be used to trigger additional events."/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="EmailForgottenPasswordP"  default="1" description="Email users forgotten passwords" section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="EmailRegistrationConfirmationToUserP"  default="1" description="send confirmation email to user after registration." section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="GlobalURLStub"  default="/global" description="Where is the global directory for such things as file-not-found error messages"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="IndexInternalRedirectUrl"  description="If non-blank and IndexRedirectUrl is blank, serve the given template rather than the default index template, but with an rp_internal_redirect. Value is relative to serverroot. Example: /packages/dotlrn/index"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="IndexRedirectUrl"  description="A URL to redirect to instead of showing the subsite index page. Useful if you want to replace the index page with a page generated by portals, by edit-this-page, or to one of the applications installed at the subsite."/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="LastVisitUpdateInterval"  default="600" description="how many seconds old a last visit cookie must be before we update it"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="LoginTemplate"  default="/packages/acs-subsite/lib/login" description="Name of the template used for login" section_name="Templates"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="MaxPortraitBytes"  default="200000" description="Maximum portrait size in bytes. Leave empty for no limitation." section_name="user-info"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="MembersCanInviteMembersP"  default="0" description="Set this to 1 if you want to allow members to invite other members." section_name="user-info"/>
            <parameter scope="instance" datatype="text"  min_n_values="1"  max_n_values="1"  name="MembersViewNavbarTabsList"  default="members {label #acs-subsite.Members# folder members selected_patterns {*}}" description="Navigation tabs to show to those allowed to see subsite members" section_name="Navigation Tabs"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="NewRegistrationEmailAddress"  default="admin@yourdomain.com" description="Where should we send email about new registrations (defaults to SystemOwner)" section_name="user-login"/>
            <parameter scope="instance" datatype="text"  min_n_values="1"  max_n_values="1"  name="NoTabApplicationList"  description="Don't show tabs for applications with the listed package keys." section_name="Navigation Tabs"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="NotifyAdminOfNewRegistrationsP"  default="0" description="Notify someone of new registrations?" section_name="user-login"/>
            <parameter scope="instance" datatype="number"  min_n_values="1"  max_n_values="1"  name="PrivateEmailLevelP"  default="4" description="Defines the level of privacy of the users email. The levels are: 
4 - Show user email.
3 - Show user email as an image (require ImageMagick). If ImageMagick not present then the @ symbol is replaced with an image.
2 - Hide email, show a link that allows users to send a message.
1 -  Shows nothing." section_name="user-info"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RegImplNamet"  default="asm_url" description="Name of the implementation used in the registration process." section_name="user-login"/>
            <parameter scope="instance" datatype="number"  min_n_values="1"  max_n_values="1"  name="RegistrationId"  default="0" description="Assessment_id for the assessment used in the registration process. If value = 0 the current registration form will be used." section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RegistrationImplName"  default="null" description="Name of the implementation used for the registration process. If value is null, the normal registration process will be used and the RegisterId parameter will be ignored." section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RegistrationProvidesRandomPasswordP"  default="0" description="have the system generate a random password instead of the user" section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RegistrationRedirectUrl"  description="A URL to redirect to instead of showing the normal registration page. Useful if you want to replace the registration page with a custom page." section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RegistrationRequiresApprovalP"  default="0" description="set this to 1 if user does not go live immediately" section_name="user-login"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RegistrationRequiresEmailVerificationP"  default="0" description="set this to 1 if the user has to receive and email and come back to the site" section_name="user-login"/>
            <parameter scope="instance" datatype="number"  min_n_values="1"  max_n_values="1"  name="RestrictEntireServerToRegisteredUsersP"  default="0" description="Do we want to allow only registered users to visit this subsite? (restart required)"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="RestrictToSSL"  default="admin/*" description="URLs we want restricted to SSL. Note that this only takes effect if you have an SSL listener configured on your AOLserver and kernel parameter RegisterRestrictToSSLFilters is set to 1 (its default)."/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ScreenNameP"  default="0" description="Set this to 1 if you want to show screen names instead of real names." section_name="user-info"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ShowApplications"  default="1" description="Show individual tabs for mounted applications within this subsite" section_name="Navigation Tabs"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ShowContextBarP"  default="1" description="Should context bars appear on pages?"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ShowMembersListTo"  default="1" description="Who can see the subsite members list. 0 = Everyone; 1 = Members; 2 = Only administrators."/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="SolicitPortraitP"  default="1" description="Set this to 1 if you want users to be asked to submit a portrait." section_name="user-info"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="SomeAmericanReadersP"  default="1" description="is it even worth bothering asking for state and zip code?"/>
            <parameter scope="instance" datatype="number"  min_n_values="1"  max_n_values="1"  name="StreamingHead"  default="/packages/openacs-default-theme/lib/plain-streaming-head" description="Path to the head template (skin) for streaming HTML-output. " section_name="theming"/>
            <parameter scope="instance" datatype="text"  min_n_values="1"  max_n_values="1"  name="ThemeCSS"  default="{-href /resources/openacs-default-theme/styles/default-master.css -media all}
               {-href /resources/acs-templating/forms.css -media all}
               {-href /resources/acs-templating/lists.css -media all}" description="A list of the form '-attribute value' pairs for use with this theme. The valid attributes are defined by template::head::add_css. Set by the admin theme-switching UI.  If non defined, the default list and form CSS files are used, and the subsite master is expected to provide any CSS it needs itself." section_name="theming"/>
            <parameter scope="instance" datatype="text"  min_n_values="1"  max_n_values="1"  name="ThemeJS"  default=""
		       description="A list of lists of JS specifications of the form '-attribute value' pairs to use with this theme. The allowed attributes are defined by the arguments of template::add_script.  Set by the admin theme-switching UI." section_name="theming"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="ThemeKey"  default="default_plain" description="Key of the acs-templating theme for this subsite.  Set by the admin theme-switching UI." section_name="theming"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="TmpDir"  default="/tmp /var/tmp" description="What tmp directories are used on this system? Note the leading / character."/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="UserHomeTemplate"  default="/packages/acs-subsite/lib/home" description="Name of the template used for the user home page" section_name="Templates"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="UserInfoTemplate"  default="/packages/acs-subsite/lib/user-info" description="Name of the template used for description of a user" section_name="Templates"/>
            <parameter scope="instance" datatype="text"  min_n_values="1"  max_n_values="1"  name="UserNavbarTabsList"  default="home {label #acs-subsite.Subsite_Home#}" description="Navigation tabs to show to users" section_name="Navigation Tabs"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="UserNewTemplate"  default="/packages/acs-subsite/lib/user-new" description="Name of the template used for creation of a new user" section_name="Templates"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="application"  default="default" description="Name of the ETP application to use (default, faq, wiki, or create your own with the etp::define_applicaton procedure)" section_name="EditThisPage"/>
            <parameter scope="instance" datatype="string"  min_n_values="1"  max_n_values="1"  name="subtopic_application"  default="default" description="Name of the ETP application to use when creating a subtopic" section_name="EditThisPage"/>
        </parameters>

    </version>
</package>
